SLRAD.prototype.setMenu=function(a){this.menu=a};function slradMenu(a){this.element=a;this.id=a.attr("id");this.actionUrl=a.attr("actionUrl");this.isHidden=a.css("display")?a.css("display")=="none":!0;this.itemEnableClass=a.attr("itemEnableClass");this.itemDisableClass=a.attr("itemDisableClass");this.itemSelectedClass=a.attr("itemSelectedClass");this.items=$("[permissionId]",a)}
slradMenu.prototype.show=function(){var a=this;$("li:visible",a.element).each(function(){$(this).show()});$("ul:has(> li > h3)",a.element).accordion({header:"> li > h3",autoHeight:!1,collapsible:!0,active:!1});a.itemSelectedClass&&$("li",a.element).not($("li",a.element).has("ul")).click(function(){$(this).addClass(a.itemSelectedClass);$("."+a.itemSelectedClass,a.element).not($(this)).removeClass(a.itemSelectedClass)});$("ul.ui-accordion ul.ui-accordion",a.element).css("width","auto")};
SLRAD.prototype.initMenu=function(a){var a=$(a),b=new slradMenu(a,this);this.setMenu(b);b.isHidden&&b.items.hide();b.itemDisableClass&&b.items.not(b.items.has("li")).addClass(b.itemDisableClass);b.items.length>0?(a={},a[SL.KEYS.SERVICE]=SL.KEYS.PERMISSON_LIST_SERVICE,$.post(b.actionUrl,a,function(a){a.success?(a.dataObject&&($.isArray(a.dataObject)&&a.dataObject[0]=="*"?(b.items.find("a[xhref]").each(function(){$(this).attr("href",$(this).attr("xhref"))}),b.items.not(b.items.has("li")).removeClass(b.itemDisableClass).addClass(b.itemEnableClass),
b.items.show()):$.each(a.dataObject,function(a,c){var d=b.items.filter("[permissionId='"+c+"']");d.find(">a[xhref]").each(function(){$(this).attr("href",$(this).attr("xhref"))});d.show();d.not(d.has("li")).removeClass(b.itemDisableClass).addClass(b.itemEnableClass)}),b.element.show()),b.show()):SL.error(a.message||"\u83dc\u5355\u6743\u9650\u5217\u8868\u52a0\u8f7d\u5931\u8d25",a.props&&a.props.loginUrl)},"json")):b.show()};
$(document).ready(function(){$(document).data("slrad_menu")||($(document).data("slrad_menu",!0),SL.loadJQueryUI(function(){$("div.Menu").each(function(){var a=$(this),b=a.attr("id"),c=new SLRAD;c.initMenu("#"+b);a.data("slrad",c)})}),$(document).trigger("slrad_menu_ready"))});
