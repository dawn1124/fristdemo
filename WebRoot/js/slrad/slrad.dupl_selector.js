SLRAD.prototype.setDuplSelector=function(a){this.duplSelector=a};
function slradDuplSelector(a){var b=this;this.element=a;var c=new SLRAD;c.setDuplSelector(b);a.data("slrad",c);this.srcList=$("#"+a.attr("srcList"));this.targetList=$("#"+a.attr("targetList"));$("[name='add']",b.element).click(function(){var a=$("option:selected[value]",b.srcList);a.remove();a.appendTo(b.targetList);$("option[value]",b.targetList).attr("selected","selected");b.targetList.trigger("add_items",a)});$("[name='addAll']",b.element).click(function(){var a=$("option[value]",b.srcList);a.remove();
a.appendTo(b.targetList);$("option[value]",b.targetList).attr("selected","selected");b.targetList.trigger("add_items",a)});$("[name='remove']",b.element).click(function(){var a=$("option:selected[value]",b.targetList);a.remove();a.appendTo(b.srcList);b.targetList.trigger("remove_items",a)});$("[name='removeAll']",b.element).click(function(){var a=$("option[value]",b.targetList);a.remove();a.appendTo(b.srcList);b.targetList.trigger("remove_items",a)});$("form.DataEditor").bind("beforeValidate beforeSubmit",
function(){$("option[value]",b.targetList).attr("selected","selected")})}slradDuplSelector.prototype.initData=function(){var a=this;a.srcList.is("[datasource]")?a.srcList.bind("afterInitData",function(){a.element.data("srcListReady",!0);a.uniqueList()}):(a.element.data("srcListReady",!0),a.uniqueList());a.targetList.is("[datasource]")?a.targetList.bind("afterInitData",function(){a.element.data("targetListReady",!0);a.uniqueList()}):(a.element.data("targetListReady",!0),a.uniqueList())};
slradDuplSelector.prototype.uniqueList=function(){var a=this;a.element.data("srcListReady")&&a.element.data("targetListReady")&&($("option",a.targetList).each(function(){var b=$(this).val();$("option[value='"+b+"']",a.srcList).remove()}),$("option[value]",a.targetList).attr("selected","selected"))};$(document).ready(function(){$(document).data("slrad_dupl_selector")||($(document).data("slrad_dupl_selector",!0),$(".DuplSelector").each(function(){(new slradDuplSelector($(this))).initData()}),$(document).trigger("slrad_dupl_selector_ready"))});
